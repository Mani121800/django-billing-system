<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Invoice - Bill #{{ bill.id }}</title>
    <style>
        body {
            font-family: DejaVu Sans, Arial, sans-serif;
            font-size: 12px;
        }
        h1, h2, h3 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
        }
        th, td {
            border: 1px solid #000;
            padding: 4px;
            text-align: center;
        }
        .summary-table td {
            text-align: right;
            font-weight: bold;
        }
        .no-border td {
            border: none;
        }
    </style>
</head>
<body>

<h2>Billing Invoice</h2>

<table class="no-border">
  <tr>
    <td><strong>Bill ID:</strong> {{ bill.id }}</td>
    <td><strong>Date:</strong> {{ bill.created_at }}</td>
  </tr>
  <tr>
    <td colspan="2"><strong>Customer Email:</strong> {{ bill.customer_email }}</td>
  </tr>
</table>

<h3>Items</h3>
<table>
    <tr>
        <th>Product ID</th>
        <th>Unit Price (₹)</th>
        <th>Quantity</th>
        <th>Purchase Price (₹)</th>
        <th>Tax (%)</th>
        <th>Tax Amount (₹)</th>
        <th>Total Price (₹)</th>
    </tr>
    {% for item in items %}
    <tr>
        <td>{{ item.product.product_id }}</td>
        <td>{{ item.unit_price }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.purchase_price }}</td>
        <td>{{ item.product.tax_percentage }}</td>
        <td>{{ item.tax_for_item }}</td>
        <td>{{ item.total_price_for_item }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Summary</h3>
<table class="summary-table">
  <tr>
      <td>Total price without tax</td>
      <td>₹ {{ bill.total_without_tax }}</td>
  </tr>
  <tr>
      <td>Total tax payable</td>
      <td>₹ {{ bill.total_tax }}</td>
  </tr>
  <tr>
      <td>Net price of purchased items</td>
      <td>₹ {{ bill.net_price }}</td>
  </tr>
  <tr>
      <td>Rounded down net price</td>
      <td>₹ {{ bill.rounded_net_price }}</td>
  </tr>
  <tr>
      <td>Cash paid by customer</td>
      <td>₹ {{ bill.cash_paid }}</td>
  </tr>
  <tr>
      <td>Balance payable to customer</td>
      <td>₹ {{ bill.balance_to_customer }}</td>
  </tr>
</table>

<h3>Balance Denomination</h3>
<table>
    <tr>
        <th>Denomination (₹)</th>
        <th>Count</th>
    </tr>
    {% for d in change_denoms %}
    <tr>
        <td>{{ d.value }}</td>
        <td>{{ d.count }}</td>
    </tr>
    {% endfor %}
</table>

<p style="margin-top: 20px; text-align: center;">
    Thank you for your purchase!
</p>

</body>
</html>
